(function(e){return(e=function(t,r){return function(n){if(!r[n])throw new Error(n+" is not a module");return t[n]?t[n].exports:(t[n]={exports:{}},t[n].exports=r[n](e,t[n],t[n].exports))}}({},{0:function(e,t,r){return function(){function r(){l&&console.log.apply(console,arguments)}function n(e){return!!(Array.isArray(e)||"object"==typeof e&&null!==e)}function _(e,t){if(n(e))for(i in e)_(e[i],t[i]);else null!==t&&"object"==typeof t?Object.keys(t).length||(t.__parent__[t.__key__]=e):Array.isArray(t)&&(t.length||(t.__parent__[t.__key__]=e))}function o(e,t,a){let l=new Proxy(e,{get:(e,t)=>{if(r("getting",t),"toJSON"===t)return r("making json",t),JSON.stringify(e[t]);if(t in e)return r("returning",t),e[t];if("symbol"!=typeof t){if("inspect"!==t){if(isNaN(Number(t)))return r(t,"is not a number"),Array.isArray(e)?(r("converting parent to object",t),e.__parent__[e.__key__]=o(new y,e.__parent__,e.__key__),e.__parent__[e.__key__][t]=o(new y,e.__parent__[e.__key__],t),e.__parent__[e.__key__][t]):(r("parent is already an object",t),e[t]=o(new y,e,t),e[t]);{r(t,"is a number");let n=Number(t);return Array.isArray(e)?(r("parent is already an array",t),e[n]=o(new u,e,n),e[n]):(r("converting parent to array",t),e.__parent__[e.__key__]=o(new u,e.__parent__,e.__key__),e.__parent__[e.__key__][n]=o(new y,e.__parent__[e.__key__],n),e.__parent__[e.__key__][n])}}r("ignoring",t)}else r("ignoring",t)},set:(e,t,_,i)=>(r("setting value",t,e.__label__),n(_)&&(r("value is an array. is it already a proxy?",t),!_.__proxy__)?(r("it is not a proxy, we need to make it one",t),e[t]=o(_,e,t),f.emit(e.__label__+"."+t.toString(),e[t]),!0):(e[t]=_,f.emit(e.__label__+"."+t.toString(),e[t]),!0))});if(Object.defineProperty(l,"__parent__",{get:()=>t}),Object.defineProperty(l,"__key__",{get:()=>a}),Object.defineProperty(l,"__proxy__",{get:()=>!0}),Object.defineProperty(l,"__label__",{get:()=>(t.__label__?t.__label__+".":"")+a.toString()}),Object.defineProperty(l,"defaults",{get:()=>(r("get proxy",l,l.__label__),l),set:t=>{r("set proxy",t,l,l.__label__),_(t,l,e)}}),n(l))for(i in l)r("checking value",i),n(l[i])?(r("converting to proxy",i),l[i]=o(l[i],l,i)):l[i]=l[i];return l}function a(e){if(!n(e))throw new Error("Store must be an array or an object.");return p=o(e,c,"store"),Object.defineProperty(p,"on",{enumerable:!1,configurable:!1,writable:!1,value:f.on}),Object.defineProperty(p,"one",{enumerable:!1,configurable:!1,writable:!1,value:f.one}),Object.defineProperty(p,"off",{enumerable:!1,configurable:!1,writable:!1,value:f.off}),Object.defineProperty(p,"set",{enumerable:!1,configurable:!1,writable:!1,value:a}),p}const f=e(1)({});let l=!1;class u extends Array{}class y extends Object{}const c={store:{}};let p;a({}),void 0!==t&&void 0!==t.exports?t.exports=p:"function"==typeof define&&define.amd&&define([],function(){return p}),"object"==typeof window&&Object.defineProperty(window,"ProxyStore",{set:a,get:()=>p})}(),t.exports},1:function(e,t,r){return function(){function e(e={}){function t(t,r,n=!0){if("function"!=typeof r)throw new Error("Callback on events must be a function.");return void 0===o[t]&&(o[t]=[],o[t].__ran__=!1,o[t].__args__=[]),o[t].push(r),o[t].__ran__&&n&&r.apply(e,o[t].__args__),e}function r(r,_,o=!0){let i=()=>{let t=Array.from(arguments);_.apply(e,t),n(r,i)};return t(r,i,o),e}function n(t,r){if(void 0!==o[t]){if(void 0!==r){for(let e=0;e<o[t].length;e++)o[t][e]===r&&(o[t].splice(e,1),e--);return e}delete o[t]}}function _(t){void 0===o[t]&&(o[t]=[]);let r=Array.from(arguments);return r.shift(),o[t].__ran__=!0,o[t].__args__=r,o[t].forEach(r=>{r.apply(e,o[t].__args__)}),void 0!==o["*"]&&o["*"].forEach(r=>{r.apply(e,[].concat(t,o[t].__args__))}),e}const o={};return Object.defineProperty(e,"on",{get:()=>t}),Object.defineProperty(e,"one",{get:()=>r}),Object.defineProperty(e,"off",{get:()=>n}),Object.defineProperty(e,"emit",{get:()=>_}),e}void 0!==t&&void 0!==t.exports?t.exports=e:"function"==typeof define&&define.amd?define([],function(){return e}):window.LazyEvents=e}(),t.exports}}))(0)}).call(this,null);