(function(e){return(e=function(r,t){return function(n){if(!t[n])throw new Error(n+" is not a module");return r[n]?r[n].exports:(r[n]={exports:{}},r[n].exports=t[n](e,r[n],r[n].exports))}}({},{0:function(e,r,t){return function(){function t(){f&&t.apply(console,arguments)}function n(e,r){return!(!Array.isArray(e)||!Array.isArray(r))||!Array.isArray(e)&&"object"==typeof e&&null!==e&&!Array.isArray(r)&&"object"==typeof r&&null!==r}function _(e){return!!(Array.isArray(e)||"object"==typeof e&&null!==e)}function o(e,r){if(_(e))for(i in e)o(e[i],r[i]);else null!==r&&"object"==typeof r?Object.keys(r).length||(r.__parent__[r.__key__]=e):Array.isArray(r)&&(r.length||(r.__parent__[r.__key__]=e))}function a(e,r,i,f=!1){let u=new Proxy(e,{get:(e,r)=>{if(t("getting",r),"toJSON"===r)return t("making json",r),JSON.stringify(e[r]);if(r in e)return t("returning",r),e[r];if("length"===r)return"object"==typeof e?Object.keys(e).length:e.length;if("symbol"!=typeof r){if("inspect"!==r){if(isNaN(Number(r)))return t(r,"is not a number"),Array.isArray(e)?(t("converting parent to object",r),a(new y,e.__parent__,e.__key__),a(new y,e.__parent__[e.__key__],r),e.__parent__[e.__key__][r]):(t("parent is already an object",r),a(new y,e,r),e[r]);{t(r,"is a number");let n=Number(r);return Array.isArray(e)?(t("parent is already an array",r),a(new l,e,n),e[n]):(t("converting parent to array",r),a(new l,e.__parent__,e.__key__),a(new y,e.__parent__[e.__key__],n),e.__parent__[e.__key__][n])}}t("ignoring",r)}else t("ignoring",r)},set:(e,r,o,i)=>{if(t("setting ",r," on ",e," to ",o),_(o)){if(n(e[r],o)&&e[r].__proxy__){if(JSON.stringify(e[r])==JSON.stringify(o))return t("values are the same",o),!0;if(Array.isArray(e[r]))e[r].splice(o.length);else for(let t in e[r])void 0===o[t]&&delete e[r][t]}else a(Array.isArray(o)?[]:{},e,r);e[r].__suspended__=!0;for(let n in o)JSON.stringify(o[n])!=JSON.stringify(e[r][n])?e[r][n]=o[n]:t("child values are the same",o[n]);if(delete e[r].__suspended__,s.emit(e.__label__+"."+r.toString(),e[r]),!e.__suspended__&&_(e)&&e.__label__){let r=e;for(s.emit(r.__label__,r);(r=r.__parent__)&&r.__label__;)s.emit(r.__label__,r)}return!0}if(e[r]==o)return t("values are the same",o),!0;if(e[r]=o,s.emit(e.__label__+"."+r.toString(),e[r]),!e.__suspended__&&_(e)&&e.__label__){let r=e;for(s.emit(r.__label__,r);(r=r.__parent__)&&r.__label__;)s.emit(r.__label__,r)}return!0}});Object.defineProperty(u,"__parent__",{get:()=>r}),Object.defineProperty(u,"__key__",{get:()=>i}),Object.defineProperty(u,"__proxy__",{get:()=>!0}),Object.defineProperty(u,"__label__",{get:()=>!f&&(r.__label__?r.__label__+".":"")+i.toString()}),Object.defineProperty(u,"default",{get:()=>r=>{o(r,u,e)}}),t("should set",r,i,u),r[i]=u}const s=e(1)({});let f=!1;class l extends Array{}class y extends Object{}const u={};a({},u,"proxy",!0),u.proxy.store={},Object.defineProperty(u.proxy.store,"on",{enumerable:!1,configurable:!1,writable:!1,value:s.on}),Object.defineProperty(u.proxy.store,"one",{enumerable:!1,configurable:!1,writable:!1,value:s.one}),Object.defineProperty(u.proxy.store,"off",{enumerable:!1,configurable:!1,writable:!1,value:s.off}),Object.defineProperty(u.proxy.store,"set",{enumerable:!1,get:()=>e=>{if(!_(e))throw new Error("Store must be an array or an object.");return t("set function",e),u.proxy.store=e,u.proxy.store}}),void 0!==r&&void 0!==r.exports?r.exports=u.proxy.store:"function"==typeof define&&define.amd&&define([],function(){return u.proxy.store}),"object"==typeof window&&Object.defineProperty(window,"ProxyStore",{set:e=>{throw new Error("Do not set the store like this. Use .set function instead. e.g. window.Proxy.store.set({})")},get:()=>u.proxy.store})}(),r.exports},1:function(e,r,t){return function(){function e(e={}){function r(r,t,n=!0){if("function"!=typeof t)throw new Error("Callback on events must be a function.");return void 0===o[r]&&(o[r]=[],o[r].__ran__=!1,o[r].__args__=[]),o[r].push(t),o[r].__ran__&&n&&t.apply(e,o[r].__args__),e}function t(t,_,o=!0){let i=function(){let r=Array.from(arguments);_.apply(e,r),n(t,i)};return r(t,i,o),e}function n(r,t){if(void 0!==o[r]){if(void 0!==t){for(let e=0;e<o[r].length;e++)o[r][e]===t&&(o[r].splice(e,1),e--);return e}delete o[r]}}function _(r){void 0===o[r]&&(o[r]=[]);let t=Array.from(arguments);return t.shift(),o[r].__ran__=!0,o[r].__args__=t,o[r].forEach(t=>{t.apply(e,o[r].__args__)}),void 0!==o["*"]&&o["*"].forEach(t=>{let n=[].concat(r,o[r].__args__);t.apply(e,n)}),e}const o={};return Object.defineProperty(e,"on",{get:()=>r}),Object.defineProperty(e,"one",{get:()=>t}),Object.defineProperty(e,"off",{get:()=>n}),Object.defineProperty(e,"emit",{get:()=>_}),e}void 0!==r&&void 0!==r.exports?r.exports=e:"function"==typeof define&&define.amd?define([],function(){return e}):window.LazyEvents=e}(),r.exports}}))(0)}).call(this,null);