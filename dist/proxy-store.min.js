(function(e){return(e=function(t,r){return function(_){if(!r[_])throw new Error(_+" is not a module");return t[_]?t[_].exports:(t[_]={exports:{}},t[_].exports=r[_](e,t[_],t[_].exports))}}({},{1:function(e,t,r){return function(){function e(e={}){function t(t,r,_=!0){if("function"!=typeof r)throw new Error("Callback on events must be a function.");return void 0===o[t]&&(o[t]=[],o[t].__ran__=!1,o[t].__args__=[]),o[t].push(r),o[t].__ran__&&_&&r.apply(e,o[t].__args__),e}function r(r,n,o=!0){let i=function(){let t=Array.from(arguments);n.apply(e,t),_(r,i)};return t(r,i,o),e}function _(t,r){if(void 0!==o[t]){if(void 0!==r){for(let e=0;e<o[t].length;e++)o[t][e]===r&&(o[t].splice(e,1),e--);return e}delete o[t]}}function n(t){void 0===o[t]&&(o[t]=[]);let r=Array.from(arguments);return r.shift(),o[t].__ran__=!0,o[t].__args__=r,o[t].forEach(r=>{r.apply(e,o[t].__args__)}),void 0!==o["*"]&&o["*"].forEach(r=>{let _=[].concat(t,o[t].__args__);r.apply(e,_)}),e}const o={};return Object.defineProperty(e,"on",{get:()=>t}),Object.defineProperty(e,"one",{get:()=>r}),Object.defineProperty(e,"off",{get:()=>_}),Object.defineProperty(e,"emit",{get:()=>n}),e}void 0!==t&&void 0!==t.exports?t.exports=e:"function"==typeof define&&define.amd?define([],function(){return e}):window.LazyEvents=e}(),t.exports},0:function(e,t,r){return function(){function r(){f&&r.apply(console,arguments)}function _(e,t){return!(!Array.isArray(e)||!Array.isArray(t))||!Array.isArray(e)&&"object"==typeof e&&null!==e&&!Array.isArray(t)&&"object"==typeof t&&null!==t}function n(e){return!!(Array.isArray(e)||"object"==typeof e&&null!==e)}function o(e,t){if(n(e))for(i in e)o(e[i],t[i]);else null!==t&&"object"==typeof t?Object.keys(t).length||(t.__parent__[t.__key__]=e):Array.isArray(t)&&(t.length||(t.__parent__[t.__key__]=e))}function a(e,t,i,f=!1){let s=new Proxy(e,{get:(e,t)=>{if(r("getting",t),"toJSON"===t)return function(){if(!e.__auto__)return e};if(t in e)return r("fetch",t,e),e[t];if("length"===t)return r("getting length",typeof e,e),"object"==typeof e?Object.keys(e).length:e.length;if("symbol"!=typeof t){if("inspect"!==t){if(isNaN(Number(t)))return r(t,"is not a number"),Array.isArray(e)?(r("converting parent to object",t),a({},e.__parent__,e.__key__),delete e.__parent__[e.__key__].__auto__,a({},e.__parent__[e.__key__],t),e.__parent__[e.__key__][t]):(r("parent is already an object",t),delete e.__auto__,a({},e,t),e[t]);{r(t,"is a number");let _=Number(t);return Array.isArray(e)?(r("parent is already an array",t),delete e.__auto__,a({},e,_),r("returning",e[_]),e[_]):(r("converting parent to array",t),a([],e.__parent__,e.__key__),delete e.__parent__[e.__key__].__auto__,a({},e.__parent__[e.__key__],_),e.__parent__[e.__key__][_])}}r("ignoring",t)}else r("ignoring",t)},set:(e,t,o,i)=>{if(r("setting ",t," on ",e," to ",o),delete e.__auto__,n(o)){if(_(e[t],o)&&e[t].__proxy__){if(JSON.stringify(e[t])==JSON.stringify(o))return r("values are the same",o),!0;if(Array.isArray(e[t]))e[t].splice(o.length);else for(let r in e[t])void 0===o[r]&&delete e[t][r]}else r("making proxy",t,o,e,Array.isArray(o)),a(Array.isArray(o)?[]:{},e,t);Object.defineProperty(e[t],"__suspended__",{enumerable:!1,configurable:!0,get:()=>!0});for(let _ in o)JSON.stringify(o[_])!=JSON.stringify(e[t][_])?e[t][_]=o[_]:r("child values are the same",o[_]);if(delete e[t].__suspended__,!e.__suspended__){function f(e){for(let t in e)n(e[t])?(f(e[t]),l.emit(e.__label__+"."+t.toString(),e[t])):l.emit(e.__label__+"."+t.toString(),e[t])}f(e[t]),l.emit(e.__label__+"."+t.toString(),e[t])}if(!e.__suspended__&&n(e)&&e.__label__){let t=e;for(l.emit(t.__label__,t);(t=t.__parent__)&&t.__label__;)l.emit(t.__label__,t)}return!0}if(e[t]==o)return r("values are the same",o),!0;if(e[t]=o,e.__suspended__||l.emit(e.__label__+"."+t.toString(),e[t]),!e.__suspended__&&n(e)&&e.__label__){let t=e;for(l.emit(t.__label__,t);(t=t.__parent__)&&t.__label__;)l.emit(t.__label__,t)}return!0}});Object.defineProperty(s,"__parent__",{get:()=>t}),Object.defineProperty(s,"__key__",{get:()=>i}),Object.defineProperty(s,"__proxy__",{get:()=>!0}),Object.defineProperty(s,"__auto__",{configurable:!0,get:()=>!0}),Object.defineProperty(s,"__label__",{get:()=>!f&&(t.__label__?t.__label__+".":"")+i.toString()}),Object.defineProperty(s,"default",{get:()=>t=>{o(t,s,e)}}),r("should set",t,i,s),t[i]=s}const l=e(1)({});let f=!1;const s={};a({},s,"proxy",!0),s.proxy.store={},Object.defineProperty(s.proxy.store,"on",{enumerable:!1,configurable:!1,writable:!1,value:l.on}),Object.defineProperty(s.proxy.store,"one",{enumerable:!1,configurable:!1,writable:!1,value:l.one}),Object.defineProperty(s.proxy.store,"off",{enumerable:!1,configurable:!1,writable:!1,value:l.off}),Object.defineProperty(s.proxy.store,"set",{enumerable:!1,get:()=>e=>{if(!n(e))throw new Error("Store must be an array or an object.");return r("set function",e),s.proxy.store=e,s.proxy.store}}),void 0!==t&&void 0!==t.exports?t.exports=s.proxy.store:"function"==typeof define&&define.amd&&define([],function(){return s.proxy.store}),"object"==typeof window&&Object.defineProperty(window,"ProxyStore",{set:e=>{throw new Error("Do not set the store like this. Use .set function instead. e.g. window.Proxy.store.set({})")},get:()=>s.proxy.store})}(),t.exports}}))(0)}).call(this,null);